{% extends 'base.html' %}
{% block content %}

<h1>Dog Details</h1>


<div>
    
    <h4>{{ dog.name }}</h4>
    <p>Breed: {{ dog.breed }}</p>
    <p>Description: {{ dog.description|linebreaks }}</p>
    {% if dog.age > 0 %}
    <p>Age: {{ dog.age }}</p>
    {% else %}
    <p>Age: Puppy</p>
    {% endif %}
</div>
<div>
    <a href="{% url 'dogs_update' dog.id %}">Edit</a>
    <a href="{% url 'dogs_delete' dog.id %}">Delete</a>
</div>
<div>
    <form action="{% url 'add_feeding' dog.id %}" method="POST">
    {% csrf_token %}
    <!-- Render the inputs -->
    {{ feeding_form.as_p }}
    <input type="submit" class="btn" value="Add Feeding">
    </form>
    {% if dog.fed_for_today %}
        <div>{{dog.name}} has been fed all meals for today</div>
    {% else %}
        <div>{{dog.name}} might be hungry</div>
    {% endif %}
    <table>
        <thead>
            <tr><th>Date</th><th>Meal</th></tr>
        </thead>
        <tbody>
            {% for feeding in dog.feeding_set.all %}
            <tr>
                <td>{{feeding.date}}</td>
                <td>{{feeding.get_meal_display}}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    </div>

{% endblock %}